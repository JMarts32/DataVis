{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {
    "url": "https://raw.githubusercontent.com/vega/vega-datasets/next/data/movies.json"
  },
  "height": 500,
  "width": 700,
  "transform": [
    {"filter": "datum['Rotten Tomatoes Rating'] !== null && datum['Major Genre'] !== null"}
  ],
  "mark": "area",
  "encoding": {
    "x": {
      "timeUnit": "year",
      "field": "Release Date",
      "axis": {"domain": false, "format": "%Y", "tickSize": 0}
    },
    "y": {
      "aggregate": "average",
      "type": "quantitative",
      "field": "Rotten Tomatoes Rating",
      "axis": {"title": "Average Rating", "tickSize": 0},
      "stack": "center"
    },
    "color": {"field": "Major Genre", "scale": {"scheme": "category20b"}}
  }
}